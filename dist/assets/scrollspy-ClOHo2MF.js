import{a as Fe,r as Te}from"./index-BGGzxS5J.js";import{r as Me}from"./index-Chjiymov.js";import{r as Ne}from"./index-DddO_84r.js";var re={},j=function(){return j=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},j.apply(this,arguments)},Ue=function(){function e(t,a,r){var n=this;this.endVal=a,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(i){n.startTime||(n.startTime=i);var o=i-n.startTime;n.remaining=n.duration-o,n.useEasing?n.countDown?n.frameVal=n.startVal-n.easingFn(o,0,n.startVal-n.endVal,n.duration):n.frameVal=n.easingFn(o,n.startVal,n.endVal-n.startVal,n.duration):n.frameVal=n.startVal+(n.endVal-n.startVal)*(o/n.duration);var s=n.countDown?n.frameVal<n.endVal:n.frameVal>n.endVal;n.frameVal=s?n.endVal:n.frameVal,n.frameVal=Number(n.frameVal.toFixed(n.options.decimalPlaces)),n.printValue(n.frameVal),o<n.duration?n.rAF=requestAnimationFrame(n.count):n.finalEndVal!==null?n.update(n.finalEndVal):n.options.onCompleteCallback&&n.options.onCompleteCallback()},this.formatNumber=function(i){var o,s,u,l,p=i<0?"-":"";o=Math.abs(i).toFixed(n.options.decimalPlaces);var f=(o+="").split(".");if(s=f[0],u=f.length>1?n.options.decimal+f[1]:"",n.options.useGrouping){l="";for(var d=3,c=0,y=0,h=s.length;y<h;++y)n.options.useIndianSeparators&&y===4&&(d=2,c=1),y!==0&&c%d==0&&(l=n.options.separator+l),c++,l=s[h-y-1]+l;s=l}return n.options.numerals&&n.options.numerals.length&&(s=s.replace(/[0-9]/g,function(m){return n.options.numerals[+m]}),u=u.replace(/[0-9]/g,function(m){return n.options.numerals[+m]})),p+n.options.prefix+s+u+n.options.suffix},this.easeOutExpo=function(i,o,s,u){return s*(1-Math.pow(2,-10*i/u))*1024/1023+o},this.options=j(j({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(a),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return n.handleScroll(n)}),window.onscroll=function(){window.onScrollFns.forEach(function(i){return i()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var a=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),n=r.top+window.pageYOffset,i=r.top+r.height+window.pageYOffset;i<a&&i>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>i||n>a)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var a=t-this.startVal;if(Math.abs(a)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var a;if(this.el){var r=this.formattingFn(t);!((a=this.options.plugin)===null||a===void 0)&&a.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var a=Number(t);return this.ensureNumber(a)?a:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const De=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Ue},Symbol.toStringTag,{value:"Module"})),ke=Fe(De);Object.defineProperty(re,"__esModule",{value:!0});var v=Te,He=ke;function ze(e,t){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var r,n,i,o,s=[],u=!0,l=!1;try{if(i=(a=a.call(e)).next,t===0){if(Object(a)!==a)return;u=!1}else for(;!(u=(r=i.call(a)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(p){l=!0,n=p}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(l)throw n}}return s}}function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ie(Object(a),!0).forEach(function(r){We(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Le(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Be(e){var t=Le(e,"string");return typeof t=="symbol"?t:String(t)}function We(e,t,a){return t=Be(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},te.apply(this,arguments)}function $e(e,t){if(e==null)return{};var a={},r=Object.keys(e),n,i;for(i=0;i<r.length;i++)n=r[i],!(t.indexOf(n)>=0)&&(a[n]=e[n]);return a}function Ae(e,t){if(e==null)return{};var a=$e(e,t),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ge(e,t){return Ke(e)||ze(e,t)||Ye(e,t)||Je()}function Ke(e){if(Array.isArray(e))return e}function Ye(e,t){if(e){if(typeof e=="string")return oe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return oe(e,t)}}function oe(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Je(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect;function b(e){var t=v.useRef(e);return Qe(function(){t.current=e}),v.useCallback(function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return t.current.apply(void 0,r)},[])}var Xe=function(t,a){var r=a.decimal,n=a.decimals,i=a.duration,o=a.easingFn,s=a.end,u=a.formattingFn,l=a.numerals,p=a.prefix,f=a.separator,d=a.start,c=a.suffix,y=a.useEasing,h=a.useGrouping,m=a.useIndianSeparators,E=a.enableScrollSpy,g=a.scrollSpyDelay,O=a.scrollSpyOnce,w=a.plugin;return new He.CountUp(t,s,{startVal:d,duration:i,decimal:r,decimalPlaces:n,easingFn:o,formattingFn:u,numerals:l,separator:f,prefix:p,suffix:c,plugin:w,useEasing:y,useIndianSeparators:m,useGrouping:h,enableScrollSpy:E,scrollSpyDelay:g,scrollSpyOnce:O})},Ze=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],et={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},Re=function(t){var a=Object.fromEntries(Object.entries(t).filter(function(S){var A=Ge(S,2),C=A[1];return C!==void 0})),r=v.useMemo(function(){return F(F({},et),a)},[t]),n=r.ref,i=r.startOnMount,o=r.enableReinitialize,s=r.delay,u=r.onEnd,l=r.onStart,p=r.onPauseResume,f=r.onReset,d=r.onUpdate,c=Ae(r,Ze),y=v.useRef(),h=v.useRef(),m=v.useRef(!1),E=b(function(){return Xe(typeof n=="string"?n:n.current,c)}),g=b(function(S){var A=y.current;if(A&&!S)return A;var C=E();return y.current=C,C}),O=b(function(){var S=function(){return g(!0).start(function(){u==null||u({pauseResume:w,reset:P,start:T,update:V})})};s&&s>0?h.current=setTimeout(S,s*1e3):S(),l==null||l({pauseResume:w,reset:P,update:V})}),w=b(function(){g().pauseResume(),p==null||p({reset:P,start:T,update:V})}),P=b(function(){g().el&&(h.current&&clearTimeout(h.current),g().reset(),f==null||f({pauseResume:w,start:T,update:V}))}),V=b(function(S){g().update(S),d==null||d({pauseResume:w,reset:P,start:T})}),T=b(function(){P(),O()}),M=b(function(S){i&&(S&&P(),O())});return v.useEffect(function(){m.current?o&&M(!0):(m.current=!0,M())},[o,m,M,s,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),v.useEffect(function(){return function(){P()}},[P]),{start:T,pauseResume:w,reset:P,update:V,getCountUp:g}},tt=["className","redraw","containerProps","children","style"],rt=function(t){var a=t.className,r=t.redraw,n=t.containerProps,i=t.children,o=t.style,s=Ae(t,tt),u=v.useRef(null),l=v.useRef(!1),p=Re(F(F({},s),{},{ref:u,startOnMount:typeof i!="function"||t.delay===0,enableReinitialize:!1})),f=p.start,d=p.reset,c=p.update,y=p.pauseResume,h=p.getCountUp,m=b(function(){f()}),E=b(function(w){t.preserveValue||d(),c(w)}),g=b(function(){if(typeof t.children=="function"&&!(u.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}h()});v.useEffect(function(){g()},[g]),v.useEffect(function(){l.current&&E(t.end)},[t.end,E]);var O=r&&t;return v.useEffect(function(){r&&l.current&&m()},[m,r,O]),v.useEffect(function(){!r&&l.current&&m()},[m,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),v.useEffect(function(){l.current=!0},[]),typeof i=="function"?i({countUpRef:u,start:f,reset:d,update:c,pauseResume:y,getCountUp:h}):v.createElement("span",te({className:a,ref:u,style:o},n),typeof t.start<"u"?h().formattingFn(t.start):"")},It=re.default=rt;re.useCountUp=Re;var ne={},Ce={exports:{}};(function(e){function t(a){return a&&a.__esModule?a:{default:a}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Ce);var nt=Ce.exports,N={exports:{}},se;function at(){return se||(se=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])}return a},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(N)),N.exports}var U={exports:{}},D={exports:{}},k={exports:{}},ue;function ae(){return ue||(ue=1,function(e){function t(a){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(k)),k.exports}var H={exports:{}},le;function it(){return le||(le=1,function(e){var t=ae().default;function a(r,n){if(t(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,n||"default");if(t(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(H)),H.exports}var fe;function qe(){return fe||(fe=1,function(e){var t=ae().default,a=it();function r(n){var i=a(n,"string");return t(i)=="symbol"?i:String(i)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(D)),D.exports}var pe;function ot(){return pe||(pe=1,function(e){var t=qe();function a(r,n,i){return n=t(n),n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(U)),U.exports}var z={exports:{}},L={exports:{}},B={exports:{}},ce;function Ie(){return ce||(ce=1,function(e){function t(a,r){(r==null||r>a.length)&&(r=a.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=a[n];return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(B)),B.exports}var de;function st(){return de||(de=1,function(e){var t=Ie();function a(r){if(Array.isArray(r))return t(r)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(L)),L.exports}var W={exports:{}},he;function ut(){return he||(he=1,function(e){function t(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(W)),W.exports}var $={exports:{}},ye;function lt(){return ye||(ye=1,function(e){var t=Ie();function a(r,n){if(r){if(typeof r=="string")return t(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Array.from(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(r,n)}}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}($)),$.exports}var G={exports:{}},ve;function ft(){return ve||(ve=1,function(e){function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(G)),G.exports}var me;function pt(){return me||(me=1,function(e){var t=st(),a=ut(),r=lt(),n=ft();function i(o){return t(o)||a(o)||r(o)||n()}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(z)),z.exports}var K={exports:{}},ge;function ct(){return ge||(ge=1,function(e){function t(a,r){if(!(a instanceof r))throw new TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(K)),K.exports}var Y={exports:{}},J={exports:{}},_e;function je(){return _e||(_e=1,function(e){function t(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(J)),J.exports}var xe;function dt(){return xe||(xe=1,function(e){var t=ae().default,a=je();function r(n,i){if(i&&(t(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(Y)),Y.exports}var Q={exports:{}},be;function ht(){return be||(be=1,function(e){function t(a){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e.exports.__esModule=!0,e.exports.default=e.exports,t(a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Q)),Q.exports}var X={exports:{}},Se;function yt(){return Se||(Se=1,function(e){var t=qe();function a(n,i){for(var o=0;o<i.length;o++){var s=i[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,t(s.key),s)}}function r(n,i,o){return i&&a(n.prototype,i),o&&a(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(X)),X.exports}var Z={exports:{}},ee={exports:{}},we;function vt(){return we||(we=1,function(e){function t(a,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},e.exports.__esModule=!0,e.exports.default=e.exports,t(a,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(ee)),ee.exports}var Pe;function mt(){return Pe||(Pe=1,function(e){var t=vt();function a(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&t(r,n)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(Z)),Z.exports}var R={},Ee;function gt(){if(Ee)return R;Ee=1,Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var e=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,i,o;return function(){var s=+new Date,u=!!i&&s<i+n;u?(clearTimeout(o),o=setTimeout(function(){i=s,r()},n)):(i=s,r())}},t=e;return R.default=t,R}var _=nt;Object.defineProperty(ne,"__esModule",{value:!0});var _t=ne.default=void 0,xt=_(at()),q=_(ot()),bt=_(pt()),St=_(ct()),wt=_(dt()),Pt=_(ht()),Et=_(je()),Oe=_(yt()),Ot=_(mt()),x=_(Me()),I=_(Te),Ve=_(Ne()),Vt=_(gt());function Tt(e,t){return e.length===t.length&&e.every(function(a,r){return a===t[r]})}var At=function(e){(0,Ot.default)(t,e),(0,Oe.default)(t,null,[{key:"propTypes",get:function(){return{items:x.default.arrayOf(x.default.string).isRequired,currentClassName:x.default.string.isRequired,scrolledPastClassName:x.default.string,style:x.default.object,componentTag:x.default.oneOfType([x.default.string,x.default.elementType]),offset:x.default.number,rootEl:x.default.string,onUpdate:x.default.func}}},{key:"defaultProps",get:function(){return{items:[],currentClassName:"",style:{},componentTag:"ul",offset:0,onUpdate:function(){}}}}]);function t(a){var r;return(0,St.default)(this,t),r=(0,wt.default)(this,(0,Pt.default)(t).call(this,a)),r.state={targetItems:[],inViewState:[],isScrolledPast:[]},r._handleSpy=r._handleSpy.bind((0,Et.default)(r)),r}return(0,Oe.default)(t,[{key:"_initSpyTarget",value:function(r){var n=r.map(function(i){return document.getElementById(i)});return n}},{key:"_fillArray",value:function(r,n){for(var i=[],o=0,s=r.length;o<s;o++)i[o]=n;return i}},{key:"_isScrolled",value:function(){return this._getScrollDimension().scrollTop>0}},{key:"_getScrollDimension",value:function(){var r=document,n=this.props.rootEl,i=n?r.querySelector(n).scrollTop:r.documentElement.scrollTop||r.body.parentNode.scrollTop||r.body.scrollTop,o=n?r.querySelector(n).scrollHeight:r.documentElement.scrollHeight||r.body.parentNode.scrollHeight||r.body.scrollHeight;return{scrollTop:i,scrollHeight:o}}},{key:"_getElemsViewState",value:function(r){for(var n=[],i=[],o=[],s=r||this.state.targetItems,u=!1,l=0,p=s.length;l<p;l++){var f=s[l],d=u?!1:this._isInView(f);d?(u=!0,n.push(f)):i.push(f);var c=l===p-1,y=this._isScrolled(),h=this._isAtBottom()&&this._isInView(f)&&!d&&c&&y;h&&(i.pop(),i.push.apply(i,(0,bt.default)(n)),n=[f],o=this._fillArray(o,!1),d=!0),o.push(d)}return{inView:n,outView:i,viewStatusList:o,scrolledPast:this.props.scrolledPastClassName&&this._getScrolledPast(o)}}},{key:"_isInView",value:function(r){if(!r)return!1;var n=this.props,i=n.rootEl,o=n.offset,s;i&&(s=document.querySelector(i).getBoundingClientRect());var u=r.getBoundingClientRect(),l=i?s.height:window.innerHeight,p=this._getScrollDimension(),f=p.scrollTop,d=f+l,c=i?u.top+f-s.top+o:u.top+f+o,y=c+r.offsetHeight;return c<d&&y>f}},{key:"_isAtBottom",value:function(){var r=this.props.rootEl,n=this._getScrollDimension(),i=n.scrollTop,o=n.scrollHeight,s=r?document.querySelector(r).getBoundingClientRect().height:window.innerHeight,u=i+s>=o;return u}},{key:"_getScrolledPast",value:function(r){if(!r.some(function(o){return o}))return r;var n=!1,i=r.map(function(o){return o&&!n?(n=!0,!1):!n});return i}},{key:"_spy",value:function(r){var n=this,i=this._getElemsViewState(r),o=this.state.inViewState;this.setState({inViewState:i.viewStatusList,isScrolledPast:i.scrolledPast},function(){n._update(o)})}},{key:"_update",value:function(r){Tt(this.state.inViewState,r)||this.props.onUpdate(this.state.targetItems[this.state.inViewState.indexOf(!0)])}},{key:"_handleSpy",value:function(){(0,Vt.default)(this._spy(),100)}},{key:"_initFromProps",value:function(){var r=this._initSpyTarget(this.props.items);this.setState({targetItems:r}),this._spy(r)}},{key:"offEvent",value:function(){var r=this.props.rootEl?document.querySelector(this.props.rootEl):window;r.removeEventListener("scroll",this._handleSpy)}},{key:"onEvent",value:function(){var r=this.props.rootEl?document.querySelector(this.props.rootEl):window;r.addEventListener("scroll",this._handleSpy)}},{key:"componentDidMount",value:function(){this._initFromProps(),this.onEvent()}},{key:"componentWillUnmount",value:function(){this.offEvent()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this._initFromProps()}},{key:"render",value:function(){var r=this,n=this.props.componentTag,i=this.props,o=i.children,s=i.className,u=i.scrolledPastClassName,l=i.style,p=0,f=I.default.Children.map(o,function(c,y){var h;if(!c)return null;var m=c.type,E=u&&r.state.isScrolledPast[y],g=(0,Ve.default)((h={},(0,q.default)(h,"".concat(c.props.className),c.props.className),(0,q.default)(h,"".concat(r.props.currentClassName),r.state.inViewState[y]),(0,q.default)(h,"".concat(r.props.scrolledPastClassName),E),h));return I.default.createElement(m,(0,xt.default)({},c.props,{className:g,key:p++}),c.props.children)}),d=(0,Ve.default)((0,q.default)({},"".concat(s),s));return I.default.createElement(n,{className:d,style:l},f)}}]),t}(I.default.Component);_t=ne.default=At;export{_t as _,It as a};
